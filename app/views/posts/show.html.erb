
<div class="container">

 <div class="post">
    <ul class="post_info width"> 
    <div class="header">
    <h3 class="title"><%= @post.title%> #<%= @post.id%> by <%= @post.author.name%></h3>
    <li class="countcomentlikes">Comments: <%= @post.commentscounter %>, Likes: <%= @post.likescounter %> </li>
    </div>
   <li class="bio_content"> <%= @post.text %> </li>
   </ul>
   <button class="page-btn">
        <%= link_to 'Create New Comment', new_user_post_comment_path(@post.author, @post), style: 'color: black; text-decoration: none;' %>
    </button>
    <div class="general-btn">
      <%= form_with model: Like, url: user_post_likes_path(@post.author, @post) do |form| %>
        <%= form.submit 'Like Post' %>
      <% end %>
    </div>
    <% if can?(:destroy, @post)%>
          <%= link_to user_post_path(@user, @post), data: {
            turbo_method: :delete
          } do %>
            <button><%= t('.delete post') %></button>
            <% end %>
        <% end %>
   <div class="post_comment">
   <% @post.comments.includes(:author).each do |comment| %>
      <ul class="comments width"> 
          <li> <%= comment.author.name %>: <%= comment.text%> </li>
       </ul>
    <% end %>
   </div>
  
  <div class="destroycomment"> 
  <% if can?(:destroy, comment)%>
   <%= link_to user_post_comment_path(@user, comment.post, comment.id), data: {
     turbo_method: :delete
   } do %>
     <button><%= t('.Delete Comment') %></button>
     <% end %>
     <% end %>
<% end %>

</div>


